{"version":3,"sources":["actions_index.js"],"names":[],"mappings":";;;;;QAUgB,U,GAAA,U;QAoBA,S,GAAA,S;QAOA,W,GAAA,W;;AArChB;;;;AACA;;AACA;;;;AAMA,IAAM,WAAW,uBAAjB;;AAEO,SAAS,UAAT,OAAyC;AAAA,QAAnB,KAAmB,QAAnB,KAAmB;AAAA,QAAZ,QAAY,QAAZ,QAAY;;AAC5C,WAAO,UAAS,QAAT,EAAmB;AACtB;AACA,wBAAM,IAAN,CAAc,QAAd,cAAiC,EAAE,YAAF,EAAS,kBAAT,EAAjC,EACK,IADL,CACU,oBAAY;AACd;AACA,qBAAS,EAAE,8BAAF,EAAT;AACA;AACA,yBAAa,OAAb,CAAqB,OAArB,EAA8B,SAAS,IAAT,CAAc,KAA5C;AACA;AACA,wCAAe,IAAf,CAAoB,GAApB;AACH,SARL,EASK,KATL,CASW,YAAM;AACT;AACA,qBAAS,UAAU,2BAAV,CAAT;AACH,SAZL;AAcH,KAhBD;AAiBH;;AAEM,SAAS,SAAT,CAAmB,KAAnB,EAA0B;AAC7B,WAAO;AACH,uCADG;AAEH,iBAAS;AAFN,KAAP;AAIH;;AAEM,SAAS,WAAT,GAAuB;AAC1B,iBAAa,UAAb,CAAwB,OAAxB;AACA,WAAO,UAAS,QAAT,EAAmB;AACtB,iBAAS,EAAE,gCAAF,EAAT;AACA,oCAAe,IAAf,CAAoB,GAApB;AACH,KAHD;AAIH","file":"actions_index-compiled.js","sourcesContent":["import axios from 'axios';\nimport { browserHistory } from 'react-router';\nimport {\n    AUTH_USER,\n    UNAUTH_USER,\n    AUTH_ERROR\n} from './actions_types';\n\nconst ROOT_URL = 'http://localhost:3030';\n\nexport function signinUser({ email, password }) {\n    return function(dispatch) {\n        //submit email/pw to server\n        axios.post(`${ROOT_URL}/signin`, { email, password })\n            .then(response => {\n                //update state to reflect authentication\n                dispatch({ type: AUTH_USER });\n                //save jwt token\n                localStorage.setItem('token', response.data.token);\n                //redirect route\n                browserHistory.push('/');\n            })\n            .catch(() => {\n                //else show error to user\n                dispatch(authError('Invalid email or password'));\n            })\n\n    }\n}\n\nexport function authError(error) {\n    return {\n        type: AUTH_ERROR,\n        payload: error\n    }\n}\n\nexport function signoutUser() {\n    localStorage.removeItem('token');\n    return function(dispatch) {\n        dispatch({ type: UNAUTH_USER });\n        browserHistory.push('/');\n    }\n}"]}