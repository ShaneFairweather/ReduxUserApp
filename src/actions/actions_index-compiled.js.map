{"version":3,"sources":["actions_index.js"],"names":[],"mappings":";;;;;QAagB,U,GAAA,U;QAoBA,U,GAAA,U;QAYA,S,GAAA,S;QAOA,W,GAAA,W;QASA,Q,GAAA,Q;QASA,Q,GAAA,Q;QASA,O,GAAA,O;;AA/EhB;;;;AACA;;AACA;;;;AASA,IAAM,WAAW,uBAAjB;;AAEO,SAAS,UAAT,OAAyC;AAAA,QAAnB,KAAmB,QAAnB,KAAmB;AAAA,QAAZ,QAAY,QAAZ,QAAY;;AAC5C,WAAO,UAAS,QAAT,EAAmB;AACtB;AACA,wBAAM,IAAN,CAAc,QAAd,cAAiC,EAAE,YAAF,EAAS,kBAAT,EAAjC,EACK,IADL,CACU,oBAAY;AACd;AACA,qBAAS,EAAE,8BAAF,EAAT;AACA;AACA,yBAAa,OAAb,CAAqB,OAArB,EAA8B,SAAS,IAAT,CAAc,KAA5C;AACA;AACA,wCAAe,IAAf,CAAoB,GAApB;AACH,SARL,EASK,KATL,CASW,YAAM;AACT;AACA,qBAAS,UAAU,2BAAV,CAAT;AACH,SAZL;AAcH,KAhBD;AAiBH;;AAEM,SAAS,UAAT,QAAiD;AAAA,QAA5B,KAA4B,SAA5B,KAA4B;AAAA,QAArB,QAAqB,SAArB,QAAqB;AAAA,QAAX,QAAW,SAAX,QAAW;;AACpD,WAAO,UAAS,QAAT,EAAmB;AACtB,wBAAM,IAAN,CAAc,QAAd,cAAiC,EAAC,YAAD,EAAQ,kBAAR,EAAkB,kBAAlB,EAAjC,EACK,IADL,CACU,oBAAY;AACd,qBAAS,EAAE,8BAAF,EAAT;AACA,yBAAa,OAAb,CAAqB,OAArB,EAA8B,SAAS,IAAT,CAAc,KAA5C;AACA,wCAAe,IAAf,CAAoB,GAApB;AACH,SALL,EAMK,KANL,CAMW;AAAA,mBAAY,SAAS,UAAU,2CAAV,CAAT,CAAZ;AAAA,SANX;AAOH,KARD;AASH;;AAEM,SAAS,SAAT,CAAmB,KAAnB,EAA0B;AAC7B,WAAO;AACH,uCADG;AAEH,iBAAS;AAFN,KAAP;AAIH;;AAEM,SAAS,WAAT,GAAuB;AAC1B,iBAAa,UAAb,CAAwB,OAAxB;AACA,WAAO,UAAS,QAAT,EAAmB;AACtB,iBAAS,EAAE,gCAAF,EAAT;AACA,oCAAe,IAAf,CAAoB,GAApB;AACH,KAHD;AAIH;;AAGM,SAAS,QAAT,GAAoB;AACvB,QAAM,UAAU,gBAAM,GAAN,CAAa,QAAb,YAAhB;AACA,YAAQ,GAAR,CAAY,OAAZ;AACA,WAAO;AACH,sCADG;AAEH,iBAAS;AAFN,KAAP;AAIH;;AAEM,SAAS,QAAT,GAAoB;AACvB,QAAM,UAAU,gBAAM,GAAN,CAAa,QAAb,YAAhB;AACA;AACA,WAAO;AACH,sCADG;AAEH,iBAAS;AAFN,KAAP;AAIH;;AAEM,SAAS,OAAT,QAAoC;AAAA,QAAlB,MAAkB,SAAlB,MAAkB;AAAA,QAAV,OAAU,SAAV,OAAU;;AACvC,QAAM,UAAU,gBAAM,IAAN,CAAc,QAAd,eAAkC,EAAC,cAAD,EAAS,gBAAT,EAAlC,CAAhB;AACA,YAAQ,GAAR,CAAY,OAAZ;AACA,WAAO;AACH,qCADG;AAEH,iBAAS;AAFN,KAAP;AAIH","file":"actions_index-compiled.js","sourcesContent":["import axios from 'axios';\nimport { browserHistory } from 'react-router';\nimport {\n    AUTH_USER,\n    UNAUTH_USER,\n    AUTH_ERROR,\n    GET_USERS,\n    GET_POSTS,\n    ADD_POST\n} from './actions_types';\n\nconst ROOT_URL = 'http://localhost:3030';\n\nexport function signinUser({ email, password }) {\n    return function(dispatch) {\n        //submit email/pw to server\n        axios.post(`${ROOT_URL}/signin`, { email, password })\n            .then(response => {\n                //update state to reflect authentication\n                dispatch({ type: AUTH_USER });\n                //save jwt token\n                localStorage.setItem('token', response.data.token);\n                //redirect route\n                browserHistory.push('/');\n            })\n            .catch(() => {\n                //else show error to user\n                dispatch(authError('Invalid email or password'));\n            })\n\n    }\n}\n\nexport function signupUser({email, username, password}) {\n    return function(dispatch) {\n        axios.post(`${ROOT_URL}/signup`, {email, username, password})\n            .then(response => {\n                dispatch({ type: AUTH_USER });\n                localStorage.setItem('token', response.data.token);\n                browserHistory.push('/');\n            })\n            .catch(response => dispatch(authError('An account with that email already exists')))\n    }\n}\n\nexport function authError(error) {\n    return {\n        type: AUTH_ERROR,\n        payload: error\n    }\n}\n\nexport function signoutUser() {\n    localStorage.removeItem('token');\n    return function(dispatch) {\n        dispatch({ type: UNAUTH_USER });\n        browserHistory.push('/');\n    }\n}\n\n\nexport function getUsers() {\n    const request = axios.get(`${ROOT_URL}/users`);\n    console.log(request);\n    return {\n        type: GET_USERS,\n        payload: request\n    }\n}\n\nexport function getPosts() {\n    const request = axios.get(`${ROOT_URL}/posts`);\n    // console.log(payload);\n    return {\n        type: GET_POSTS,\n        payload: request\n    }\n}\n\nexport function addPost({author, content}) {\n    const request = axios.post(`${ROOT_URL}/addpost`, {author, content});\n    console.log(request);\n    return {\n        type: ADD_POST,\n        payload: request\n    }\n}"]}