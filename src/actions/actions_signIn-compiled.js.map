{"version":3,"sources":["actions_signIn.js"],"names":[],"mappings":";;;;;QASgB,U,GAAA,U;QAoBA,S,GAAA,S;;AA7BhB;;;;AACA;;AACA;;;;AAKA,IAAM,WAAW,uBAAjB;;AAEO,SAAS,UAAT,OAAmD;AAAA,QAA7B,KAA6B,QAA7B,KAA6B;AAAA,QAAtB,QAAsB,QAAtB,QAAsB;AAAA,QAAZ,QAAY,QAAZ,QAAY;;AACtD,WAAO,UAAS,QAAT,EAAmB;AAC1B;AACA,wBAAM,IAAN,CAAc,QAAd,cAAiC,EAAE,YAAF,EAAS,kBAAT,EAAmB,kBAAnB,EAAjC,EACK,IADL,CACU,oBAAY;AACd;AACA,qBAAS,EAAE,8BAAF,EAAT;AACA;AACA,yBAAa,OAAb,CAAqB,OAArB,EAA8B,SAAS,IAAT,CAAc,KAA5C;AACA;AACA,wCAAe,IAAf,CAAoB,GAApB;AACH,SARL,EASK,KATL,CASW,YAAM;AACT;AACA,qBAAS,UAAU,sBAAV,CAAT;AACH,SAZL;AAcC,KAhBD;AAiBH;;AAEM,SAAS,SAAT,CAAmB,KAAnB,EAA0B;AAC7B,WAAO;AACH,uCADG;AAEH,iBAAS;AAFN,KAAP;AAIH","file":"actions_signIn-compiled.js","sourcesContent":["import axios from 'axios';\nimport { browserHistory } from 'react-router';\nimport {\n    AUTH_USER,\n    AUTH_ERROR\n} from './actions_types';\n\nconst ROOT_URL = 'http://localhost:3030';\n\nexport function signinUser({ email, username, password }) {\n    return function(dispatch) {\n    //submit email/pw to server\n    axios.post(`${ROOT_URL}/signin`, { email, username, password })\n        .then(response => {\n            //update state to reflect authentication\n            dispatch({ type: AUTH_USER });\n            //save jwt token\n            localStorage.setItem('token', response.data.token);\n            //redirect route\n            browserHistory.push('/');\n        })\n        .catch(() => {\n            //else show error to user\n            dispatch(authError('Incorrect Login Info'));\n        })\n\n    }\n}\n\nexport function authError(error) {\n    return {\n        type: AUTH_ERROR,\n        payload: error\n    }\n}\n"]}